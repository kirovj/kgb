# 用 Java 重构 Python 项目的感概

> 虽然还有许多工作需要做，但无论怎样还是终于接近尾声了。在这里也记录一下这两个月重构过程中遇到的困难和感慨吧。

## 看大型项目还是很吃力

尽管工程结构不是很复杂，逻辑与设计模式比较清晰（毕竟是 python ）。但是整体看下来还是比较头大，需要反复 debug 才能让整个运行逻辑比较清晰。

最大的阻力自然是类型。虽然项目中大部分都有辅助类型推断（ PEP8 ），但是吧比如：

```python
from typing import List
def foo() -> List[Union(A, B)]:
    pass
```

这在 Java 中你不得不加以抽象或者其他方式来解决。

cpython 的特性也是一大阻力，因为底层是c， IDE 无法直接索引到c标准库源码，所以你会发现很多标准库的方法点进去只有一个 pass （其实这个也是 IDE 帮你显示的，因为底层是c模块）。

当然了，还有 python 一大堆的高级语法特性。比如 itertools 包中的许多方法（ groupby ...）、列表生成式中的列表生成式还嵌套了 map | filter 、闭包、无处不在的 yield | yield from ...

---

## PDF - 给计算机看的文字

意思就是字面意思。简单来说， *_PDF 就不是被设计出来编辑的，而是实体文档在数字世界中的影像。_*